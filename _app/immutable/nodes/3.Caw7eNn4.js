import{n as Se,f as Qe,a as K,b as Z,g as gt,u as dt,h as ht,i as $t,c as bt,j as me,e as se,k as fe}from"../chunks/scheduler.B5c9wP8t.js";import{S as ye,i as Re,e as O,s as I,c as H,a as L,z as $e,f as M,d as g,n as ue,m as x,g as T,h as D,A as Ce,t as j,b as q,j as ge,k as A,l as X,o as Y,p as $,q as v,r as N,v as de,u as Ee,x as be,w as ke,B as ce,C as kt,D as Dt}from"../chunks/index.BpXyRbRA.js";import{b as Oe}from"../chunks/entry.E5pPtJRO.js";import{w as oe}from"../chunks/index.DqKJIJFH.js";import{R as vt,D as wt,a as Et,s as Ct,c as Tt,g as St,b as yt,d as Rt,G as It,S as Ze,T as Mt,e as At,C as Xt,f as Yt,h as Nt,i as Vt,j as Gt,u as Ot,k as Ht,E as le,l as Pt,t as jt,m as qt,n as Bt,o as Ft,p as xe,q as Kt}from"../chunks/TitleImage.k96_JqnD.js";import{s as Te,F as Lt}from"../chunks/Footer.BC-ux_AU.js";function Fe(s){let e,t,n,i,a="!".repeat(s[1]/10|0)+"",l;return{c(){e=O("div"),t=j("besst is "),n=j(s[1]),i=j(" buncheses"),l=j(a)},l(f){e=H(f,"DIV",{});var r=L(e);t=q(r,"besst is "),n=q(r,s[1]),i=q(r," buncheses"),l=q(r,a),r.forEach(g)},m(f,r){T(f,e,r),D(e,t),D(e,n),D(e,i),D(e,l)},p(f,r){r&2&&ge(n,f[1]),r&2&&a!==(a="!".repeat(f[1]/10|0)+"")&&ge(l,a)},d(f){f&&g(e)}}}function Ut(s){let e,t,n="keyboard controls below",i,a,l="eat whole bunches of apples!",f="-15px",r,o,u,C="gotta eat em all",m="55px",p,d,h=s[1]&&Fe(s);return{c(){e=O("div"),t=O("div"),t.textContent=n,i=I(),a=O("div"),a.textContent=l,r=I(),h&&h.c(),o=I(),u=O("div"),u.textContent=C,this.h()},l(b){e=H(b,"DIV",{class:!0});var S=L(e);t=H(S,"DIV",{"data-svelte-h":!0}),$e(t)!=="svelte-ng7q6e"&&(t.textContent=n),i=M(S),a=H(S,"DIV",{"data-svelte-h":!0}),$e(a)!=="svelte-17ft1ad"&&(a.textContent=l),r=M(S),h&&h.l(S),o=M(S),u=H(S,"DIV",{"data-svelte-h":!0}),$e(u)!=="svelte-1kgxrp4"&&(u.textContent=C),S.forEach(g),this.h()},h(){ue(a,"position","relative"),ue(a,"left",f),ue(u,"position","relative"),ue(u,"left",m),x(e,"class","instructions")},m(b,S){T(b,e,S),D(e,t),D(e,i),D(e,a),D(e,r),h&&h.m(e,null),D(e,o),D(e,u),d=!0},p(b,[S]){b[1]?h?h.p(b,S):(h=Fe(b),h.c(),h.m(e,o)):h&&(h.d(1),h=null)},i(b){d||(b&&Qe(()=>{d&&(p||(p=Ce(e,Te,{},!0)),p.run(1))}),d=!0)},o(b){b&&(p||(p=Ce(e,Te,{},!1)),p.run(0)),d=!1},d(b){b&&g(e),h&&h.d(),b&&p&&p.end()}}}function Wt(s,e,t){let n,i=K,a=()=>(i(),i=Z(l,f=>t(1,n=f)),l);s.$$.on_destroy.push(()=>i());let{highestClustersEaten:l}=e;return a(),s.$$set=f=>{"highestClustersEaten"in f&&a(t(0,l=f.highestClustersEaten))},[l,n]}class zt extends ye{constructor(e){super(),Re(this,e,Wt,Ut,Se,{highestClustersEaten:0})}}function Ke(s){let e;return{c(){e=j("es")},l(t){e=q(t,"es")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function Jt(s){let e;return{c(){e=j(":O")},l(t){e=q(t,":O")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function Qt(s){let e;return{c(){e=j(":o")},l(t){e=q(t,":o")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function Zt(s){let e,t,n;return{c(){e=j("besst is "),t=j(s[3]),n=j("!")},l(i){e=q(i,"besst is "),t=q(i,s[3]),n=q(i,"!")},m(i,a){T(i,e,a),T(i,t,a),T(i,n,a)},p(i,a){a&8&&ge(t,i[3])},d(i){i&&(g(e),g(t),g(n))}}}function xt(s){let e,t="a new high score!!";return{c(){e=O("strong"),e.textContent=t},l(n){e=H(n,"STRONG",{"data-svelte-h":!0}),$e(e)!=="svelte-kxxo23"&&(e.textContent=t)},m(n,i){T(n,e,i)},p:K,d(n){n&&g(e)}}}function en(s){let e;return{c(){e=j(":))")},l(t){e=q(t,":))")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function tn(s){let e;return{c(){e=j(":D")},l(t){e=q(t,":D")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function nn(s){let e;function t(a,l){return a[4]?tn:en}let n=t(s),i=n(s);return{c(){i.c(),e=de()},l(a){i.l(a),e=de()},m(a,l){i.m(a,l),T(a,e,l)},p(a,l){n!==(n=t(a))&&(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&g(e),i.d(a)}}}function sn(s){let e,t,n,i,a,l,f,r,o,u="25px",C,m,p,d,h,b=s[0]!==1&&Ke();function S(_,y){return _[0]<7?Qt:Jt}let z=S(s),V=z(s);function W(_,y){return _[4]?xt:Zt}let J=W(s),B=J(s);m=new vt({props:{restart:s[2],$$slots:{default:[nn]},$$scope:{ctx:s}}});const U=s[5].default,G=gt(U,s,s[6],null);return{c(){e=O("div"),t=O("div"),n=j("you ate "),i=O("strong"),a=j(s[0]),l=j(" bunch"),b&&b.c(),f=I(),V.c(),r=I(),o=O("div"),B.c(),C=I(),A(m.$$.fragment),p=I(),G&&G.c(),this.h()},l(_){e=H(_,"DIV",{class:!0});var y=L(e);t=H(y,"DIV",{});var F=L(t);n=q(F,"you ate "),i=H(F,"STRONG",{});var ee=L(i);a=q(ee,s[0]),ee.forEach(g),l=q(F," bunch"),b&&b.l(F),f=M(F),V.l(F),F.forEach(g),r=M(y),o=H(y,"DIV",{});var P=L(o);B.l(P),P.forEach(g),C=M(y),X(m.$$.fragment,y),p=M(y),G&&G.l(y),y.forEach(g),this.h()},h(){ue(o,"position","relative"),ue(o,"left",u),x(e,"class","instructions")},m(_,y){T(_,e,y),D(e,t),D(t,n),D(t,i),D(i,a),D(t,l),b&&b.m(t,null),D(t,f),V.m(t,null),D(e,r),D(e,o),B.m(o,null),D(e,C),Y(m,e,null),D(e,p),G&&G.m(e,null),h=!0},p(_,[y]){(!h||y&1)&&ge(a,_[0]),_[0]!==1?b||(b=Ke(),b.c(),b.m(t,f)):b&&(b.d(1),b=null),z!==(z=S(_))&&(V.d(1),V=z(_),V&&(V.c(),V.m(t,null))),J===(J=W(_))&&B?B.p(_,y):(B.d(1),B=J(_),B&&(B.c(),B.m(o,null)));const F={};y&4&&(F.restart=_[2]),y&80&&(F.$$scope={dirty:y,ctx:_}),m.$set(F),G&&G.p&&(!h||y&64)&&dt(G,U,_,_[6],h?$t(U,_[6],y,null):ht(_[6]),null)},i(_){h||($(m.$$.fragment,_),$(G,_),_&&Qe(()=>{h&&(d||(d=Ce(e,Te,{},!0)),d.run(1))}),h=!0)},o(_){v(m.$$.fragment,_),v(G,_),_&&(d||(d=Ce(e,Te,{},!1)),d.run(0)),h=!1},d(_){_&&g(e),b&&b.d(),V.d(),B.d(),N(m),G&&G.d(_),_&&d&&d.end()}}}function rn(s,e,t){let n,i,a=K,l=()=>(a(),a=Z(u,m=>t(3,i=m)),u);s.$$.on_destroy.push(()=>a());let{$$slots:f={},$$scope:r}=e,{bunchesEaten:o}=e,{highestClustersEaten:u}=e;l();let{restart:C}=e;return s.$$set=m=>{"bunchesEaten"in m&&t(0,o=m.bunchesEaten),"highestClustersEaten"in m&&l(t(1,u=m.highestClustersEaten)),"restart"in m&&t(2,C=m.restart),"$$scope"in m&&t(6,r=m.$$scope)},s.$$.update=()=>{s.$$.dirty&9&&t(4,n=o===i)},[o,u,C,i,n,f,r]}class et extends ye{constructor(e){super(),Re(this,e,rn,sn,Se,{bunchesEaten:0,highestClustersEaten:1,restart:2})}}function Le(s){let e,t,n,i,a,l,f;function r(p){s[40](p)}function o(p){s[41](p)}function u(p){s[42](p)}let C={$$slots:{overlay:[pn],default:[on]},$$scope:{ctx:s}};s[1]!==void 0&&(C.pointerDown=s[1]),s[2]!==void 0&&(C.pointerX=s[2]),s[3]!==void 0&&(C.pointerY=s[3]),e=new It({props:C}),se.push(()=>ce(e,"pointerDown",r)),se.push(()=>ce(e,"pointerX",o)),se.push(()=>ce(e,"pointerY",u));let m=s[17]&&s[18]&&Ue(s);return{c(){A(e.$$.fragment),a=I(),m&&m.c(),l=de()},l(p){X(e.$$.fragment,p),a=M(p),m&&m.l(p),l=de()},m(p,d){Y(e,p,d),T(p,a,d),m&&m.m(p,d),T(p,l,d),f=!0},p(p,d){const h={};d[0]&408577|d[1]&1048576&&(h.$$scope={dirty:d,ctx:p}),!t&&d[0]&2&&(t=!0,h.pointerDown=p[1],fe(()=>t=!1)),!n&&d[0]&4&&(n=!0,h.pointerX=p[2],fe(()=>n=!1)),!i&&d[0]&8&&(i=!0,h.pointerY=p[3],fe(()=>i=!1)),e.$set(h),p[17]&&p[18]?m?(m.p(p,d),d[0]&393216&&$(m,1)):(m=Ue(p),m.c(),$(m,1),m.m(l.parentNode,l)):m&&(be(),v(m,1,1,()=>{m=null}),ke())},i(p){f||($(e.$$.fragment,p),$(m),f=!0)},o(p){v(e.$$.fragment,p),v(m),f=!1},d(p){p&&(g(a),g(l)),N(e,p),m&&m.d(p)}}}function an(s){let e,t,n,i;function a(r){s[36](r)}function l(r){s[37](r)}let f={game:s[0],width:s[49],height:s[50]};return s[10]!==void 0&&(f.snakeX=s[10]),s[11]!==void 0&&(f.snakeY=s[11]),e=new Ft({props:f}),se.push(()=>ce(e,"snakeX",a)),se.push(()=>ce(e,"snakeY",l)),{c(){A(e.$$.fragment)},l(r){X(e.$$.fragment,r)},m(r,o){Y(e,r,o),i=!0},p(r,o){const u={};o[0]&1&&(u.game=r[0]),o[1]&262144&&(u.width=r[49]),o[1]&524288&&(u.height=r[50]),!t&&o[0]&1024&&(t=!0,u.snakeX=r[10],fe(()=>t=!1)),!n&&o[0]&2048&&(n=!0,u.snakeY=r[11],fe(()=>n=!1)),e.$set(u)},i(r){i||($(e.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),i=!1},d(r){N(e,r)}}}function on(s){let e,t,n,i;function a(r){s[38](r)}function l(r){s[39](r)}let f={dimensions:s[27],$$slots:{default:[an,({worldWidth:r,worldHeight:o})=>({49:r,50:o}),({worldWidth:r,worldHeight:o})=>[0,(r?262144:0)|(o?524288:0)]]},$$scope:{ctx:s}};return s[17]!==void 0&&(f.autoAspectRatio=s[17]),s[18]!==void 0&&(f.aspectRatio=s[18]),e=new qt({props:f}),se.push(()=>ce(e,"autoAspectRatio",a)),se.push(()=>ce(e,"aspectRatio",l)),{c(){A(e.$$.fragment)},l(r){X(e.$$.fragment,r)},m(r,o){Y(e,r,o),i=!0},p(r,o){const u={};o[0]&3073|o[1]&1835008&&(u.$$scope={dirty:o,ctx:r}),!t&&o[0]&131072&&(t=!0,u.autoAspectRatio=r[17],fe(()=>t=!1)),!n&&o[0]&262144&&(n=!0,u.aspectRatio=r[18],fe(()=>n=!1)),e.$set(u)},i(r){i||($(e.$$.fragment,r),i=!0)},o(r){v(e.$$.fragment,r),i=!1},d(r){N(e,r)}}}function ln(s){let e,t;return e=new et({props:{restart:s[29],bunchesEaten:s[12],highestClustersEaten:s[28],$$slots:{default:[cn]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const a={};i[0]&4096&&(a.bunchesEaten=n[12]),i[1]&1048576&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function un(s){let e,t;return e=new et({props:{restart:s[29],bunchesEaten:s[12],highestClustersEaten:s[28],$$slots:{default:[_n]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const a={};i[0]&4096&&(a.bunchesEaten=n[12]),i[1]&1048576&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function fn(s){let e,t;return e=new zt({props:{highestClustersEaten:s[28]}}),{c(){A(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:K,i(n){t||($(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function cn(s){let e,t,n;return t=new xe({props:{count:50,items:["🐍","🐍","🌸","🌺"],hueRotationMax:360}}),{c(){e=O("div"),A(t.$$.fragment),this.h()},l(i){e=H(i,"DIV",{class:!0});var a=L(e);X(t.$$.fragment,a),a.forEach(g),this.h()},h(){x(e,"class","text-burst-wrapper svelte-fg88f6")},m(i,a){T(i,e,a),Y(t,e,null),n=!0},p:K,i(i){n||($(t.$$.fragment,i),n=!0)},o(i){v(t.$$.fragment,i),n=!1},d(i){i&&g(e),N(t)}}}function _n(s){let e,t,n;return t=new xe({props:{count:50,items:["🍎","💥","🦴","🦴"]}}),{c(){e=O("div"),A(t.$$.fragment),this.h()},l(i){e=H(i,"DIV",{class:!0});var a=L(e);X(t.$$.fragment,a),a.forEach(g),this.h()},h(){x(e,"class","text-burst-wrapper svelte-fg88f6")},m(i,a){T(i,e,a),Y(t,e,null),n=!0},p:K,i(i){n||($(t.$$.fragment,i),n=!0)},o(i){v(t.$$.fragment,i),n=!1},d(i){i&&g(e),N(t)}}}function pn(s){let e,t,n,i;const a=[fn,un,ln],l=[];function f(r,o){return r[12]===0?0:r[13]==="fail"?1:r[13]==="win"?2:-1}return~(e=f(s))&&(t=l[e]=a[e](s)),{c(){t&&t.c(),n=de()},l(r){t&&t.l(r),n=de()},m(r,o){~e&&l[e].m(r,o),T(r,n,o),i=!0},p(r,o){let u=e;e=f(r),e===u?~e&&l[e].p(r,o):(t&&(be(),v(l[u],1,1,()=>{l[u]=null}),ke()),~e?(t=l[e],t?t.p(r,o):(t=l[e]=a[e](r),t.c()),$(t,1),t.m(n.parentNode,n)):t=null)},i(r){i||($(t),i=!0)},o(r){v(t),i=!1},d(r){r&&g(n),~e&&l[e].d(r)}}}function Ue(s){let e,t,n,i,a,l,f,r,o,u,C,m,p,d,h=`<a href="https://www.serpentsoundstudios.com/">Alexander Nakarada</a> -
						<a href="${Oe}/assets/Alexander_Nakarada__Horde_of_Geese.mp3">Horde of Geese</a>`,b,S,z,V,W,J,B,U,G;n=new Ze({props:{title:"apples eaten this try",progressKey:s[12]===0?void 0:s[12],$$slots:{default:[mn]},$$scope:{ctx:s}}});let _=s[14]!==s[12]&&We(s);l=new Mt({props:{clock:s[26],tickDuration:s[7],tick:s[30]}}),r=new At({props:{clock:s[26],tick:s[30],game:s[0]}}),C=new Xt({});let y={song:Oe+"/assets/Alexander_Nakarada__Horde_of_Geese.mp3"};S=new Yt({props:y}),s[43](S);function F(k,w){return k[15]?hn:dn}let ee=F(s),P=ee(s),R=s[15]&&ze(s);return{c(){e=O("div"),t=O("div"),A(n.$$.fragment),i=I(),_&&_.c(),a=I(),A(l.$$.fragment),f=I(),A(r.$$.fragment),o=I(),u=O("section"),A(C.$$.fragment),m=I(),p=O("section"),d=O("p"),d.innerHTML=h,b=I(),A(S.$$.fragment),z=I(),V=O("section"),W=O("button"),P.c(),J=I(),R&&R.c(),this.h()},l(k){e=H(k,"DIV",{class:!0});var w=L(e);t=H(w,"DIV",{class:!0});var Q=L(t);X(n.$$.fragment,Q),i=M(Q),_&&_.l(Q),Q.forEach(g),a=M(w),X(l.$$.fragment,w),f=M(w),X(r.$$.fragment,w),o=M(w),u=H(w,"SECTION",{class:!0});var ae=L(u);X(C.$$.fragment,ae),ae.forEach(g),m=M(w),p=H(w,"SECTION",{class:!0});var E=L(p);d=H(E,"P",{"data-svelte-h":!0}),$e(d)!=="svelte-u74k6i"&&(d.innerHTML=h),b=M(E),X(S.$$.fragment,E),E.forEach(g),z=M(w),V=H(w,"SECTION",{class:!0});var te=L(V);W=H(te,"BUTTON",{});var re=L(W);P.l(re),re.forEach(g),J=M(te),R&&R.l(te),te.forEach(g),w.forEach(g),this.h()},h(){x(t,"class","scores svelte-fg88f6"),x(u,"class","panel svelte-fg88f6"),ue(u,"padding","var(--space_xl)"),x(p,"class","box prose svelte-fg88f6"),x(V,"class","box svelte-fg88f6"),x(e,"class","info svelte-fg88f6")},m(k,w){T(k,e,w),D(e,t),Y(n,t,null),D(t,i),_&&_.m(t,null),D(e,a),Y(l,e,null),D(e,f),Y(r,e,null),D(e,o),D(e,u),Y(C,u,null),D(e,m),D(e,p),D(p,d),D(p,b),Y(S,p,null),D(e,z),D(e,V),D(V,W),P.m(W,null),D(V,J),R&&R.m(V,null),B=!0,U||(G=kt(W,"click",s[44]),U=!0)},p(k,w){const Q={};w[0]&4096&&(Q.progressKey=k[12]===0?void 0:k[12]),w[0]&4096|w[1]&1048576&&(Q.$$scope={dirty:w,ctx:k}),n.$set(Q),k[14]!==k[12]?_?(_.p(k,w),w[0]&20480&&$(_,1)):(_=We(k),_.c(),$(_,1),_.m(t,null)):_&&(be(),v(_,1,1,()=>{_=null}),ke());const ae={};w[0]&1&&(ae.game=k[0]),r.$set(ae);const E={};S.$set(E),ee!==(ee=F(k))&&(P.d(1),P=ee(k),P&&(P.c(),P.m(W,null))),k[15]?R?(R.p(k,w),w[0]&32768&&$(R,1)):(R=ze(k),R.c(),$(R,1),R.m(V,null)):R&&(be(),v(R,1,1,()=>{R=null}),ke())},i(k){B||($(n.$$.fragment,k),$(_),$(l.$$.fragment,k),$(r.$$.fragment,k),$(C.$$.fragment,k),$(S.$$.fragment,k),$(R),B=!0)},o(k){v(n.$$.fragment,k),v(_),v(l.$$.fragment,k),v(r.$$.fragment,k),v(C.$$.fragment,k),v(S.$$.fragment,k),v(R),B=!1},d(k){k&&g(e),N(n),_&&_.d(),N(l),N(r),N(C),s[43](null),N(S),P.d(),R&&R.d(),U=!1,G()}}}function mn(s){let e;return{c(){e=j(s[12])},l(t){e=q(t,s[12])},m(t,n){T(t,e,n)},p(t,n){n[0]&4096&&ge(e,t[12])},d(t){t&&g(e)}}}function We(s){let e,t;return e=new Ze({props:{title:"the most apples you've ever eaten",$$slots:{default:[gn]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const a={};i[0]&16384|i[1]&1048576&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){N(e,n)}}}function gn(s){let e;return{c(){e=j(s[14])},l(t){e=q(t,s[14])},m(t,n){T(t,e,n)},p(t,n){n[0]&16384&&ge(e,t[14])},d(t){t&&g(e)}}}function dn(s){let e;return{c(){e=j("show settings")},l(t){e=q(t,"show settings")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function hn(s){let e;return{c(){e=j("stash settings")},l(t){e=q(t,"stash settings")},m(t,n){T(t,e,n)},d(t){t&&g(e)}}}function ze(s){let e,t,n,i;return e=new Nt({props:{game:s[0],tickDuration:s[7]}}),n=new Vt({props:{game:s[0],baseTickDuration:s[6],tickDurationMin:s[8],tickDurationMax:s[9],tickDurationDecay:s[5],autoAspectRatio:s[17],aspectRatio:s[18]}}),{c(){A(e.$$.fragment),t=I(),A(n.$$.fragment)},l(a){X(e.$$.fragment,a),t=M(a),X(n.$$.fragment,a)},m(a,l){Y(e,a,l),T(a,t,l),Y(n,a,l),i=!0},p(a,l){const f={};l[0]&1&&(f.game=a[0]),e.$set(f);const r={};l[0]&1&&(r.game=a[0]),l[0]&131072&&(r.autoAspectRatio=a[17]),l[0]&262144&&(r.aspectRatio=a[18]),n.$set(r)},i(a){i||($(e.$$.fragment,a),$(n.$$.fragment,a),i=!0)},o(a){v(e.$$.fragment,a),v(n.$$.fragment,a),i=!1},d(a){a&&g(t),N(e,a),N(n,a)}}}function $n(s){let e,t,n,i,a,l;e=new wt({props:{dimensions:s[27]}});let f={storageKey:He,toInitialMovementDirection:kn,tick:s[30],onReset:s[32],toInitialState:s[33],spawnApples:s[34]};i=new Et({props:f}),s[35](i);let r=s[0]&&Le(s);return{c(){A(e.$$.fragment),t=I(),n=O("div"),A(i.$$.fragment),a=I(),r&&r.c(),this.h()},l(o){X(e.$$.fragment,o),t=M(o),n=H(o,"DIV",{class:!0});var u=L(n);X(i.$$.fragment,u),a=M(u),r&&r.l(u),u.forEach(g),this.h()},h(){x(n,"class","ClasssicSnake svelte-fg88f6"),Ee(n,"game-fail",s[13]==="fail"),Ee(n,"game-ready",s[13]==="ready")},m(o,u){Y(e,o,u),T(o,t,u),T(o,n,u),Y(i,n,null),D(n,a),r&&r.m(n,null),l=!0},p(o,u){const C={};u[0]&50401280&&(C.onReset=o[32]),u[0]&6291456&&(C.toInitialState=o[33]),i.$set(C),o[0]?r?(r.p(o,u),u[0]&1&&$(r,1)):(r=Le(o),r.c(),$(r,1),r.m(n,null)):r&&(be(),v(r,1,1,()=>{r=null}),ke()),(!l||u[0]&8192)&&Ee(n,"game-fail",o[13]==="fail"),(!l||u[0]&8192)&&Ee(n,"game-ready",o[13]==="ready")},i(o){l||($(e.$$.fragment,o),$(i.$$.fragment,o),$(r),l=!0)},o(o){v(e.$$.fragment,o),v(i.$$.fragment,o),v(r),l=!1},d(o){o&&(g(t),g(n)),N(e,o),s[35](null),N(i),r&&r.d()}}}const He="buncheses_high_score",Je=6,bn=30,kn=()=>"up";function Dn(s,e,t){let n,i,a,l,f,r,o=K,u=()=>(o(),o=Z(n,c=>t(31,r=c)),n),C,m=K,p=()=>(m(),m=Z(Ae,c=>t(45,C=c)),Ae),d,h=K,b=()=>(h(),h=Z(Xe,c=>t(24,d=c)),Xe),S,z=K,V=()=>(z(),z=Z(Ne,c=>t(46,S=c)),Ne),W,J=K,B=()=>(J(),J=Z(Ye,c=>t(47,W=c)),Ye),U,G=K,_=()=>(G(),G=Z(he,c=>t(25,U=c)),he),y,F=K,ee=()=>(F(),F=Z(l,c=>t(48,y=c)),l),P,R=K,k=()=>(R(),R=Z(f,c=>t(13,P=c)),f),w;s.$$.on_destroy.push(()=>o()),s.$$.on_destroy.push(()=>m()),s.$$.on_destroy.push(()=>h()),s.$$.on_destroy.push(()=>z()),s.$$.on_destroy.push(()=>J()),s.$$.on_destroy.push(()=>G()),s.$$.on_destroy.push(()=>F()),s.$$.on_destroy.push(()=>R());const Q=Ct(Tt({running:!0})),ae=oe({width:0,height:0});let{game:E=void 0}=e,{audio:te=void 0}=e,{pointerDown:re=!1}=e,{pointerX:_e=void 0}=e,{pointerY:pe=void 0}=e,De,ve,Ie=!1,ie=0,ne=0;const Me=oe(St(He,Gt)??0);bt(s,Me,c=>t(14,w=c));const Pe=()=>{E&&(E.reset(),E.start())},Ae=oe(.97);p();const Xe=oe(Math.round(1e3/2));b();const he=yt(oe(d));_();const Ye=oe(17);B();const Ne=oe(2e3);V();let Ve,Ge;const tt=()=>{if(!E||!r||!y||P!=="playing")return!1;me(n,r=Ot(r,E),r);let c=!1;for(const we of y)switch(we.name){case"eat_apple":{c=!0,t(16,ie++,ie),ie===Je&&(t(12,ne++,ne),t(16,ie=0));break}case"snake_collide_self":case"snake_collide_bounds":{E.end("fail"),ne===0&&Pe();break}}return me(he,U=Math.max(W,Math.min(S,Math.round(d*C**(ne*Je)))),U),ie&&!c&&(t(16,ie=0),me(n,r.apples.length=0,r),E.helpers.spawnApples(r,E)),!0},nt=()=>{t(16,ie=0),t(12,ne=0),me(he,U=d,U)},st=()=>{const c=Ht(Bt({mapWidth:i,mapHeight:a}));return c.apples=[new le(4,3),new le(4,2),new le(5,2),new le(5,1),new le(4,1),new le(3,1)],c},rt=(c,we)=>{if(c.apples.length)return;let je=0;for(;je<bn;){je++;const qe=Pt(c);if(qe){for(const Be of qe)jt(c,we).push(new le(Be.x,Be.y));return}}we.end("win")};function it(c){se[c?"unshift":"push"](()=>{E=c,t(0,E)})}function at(c){De=c,t(10,De)}function ot(c){ve=c,t(11,ve)}function lt(c){Ve=c,t(17,Ve)}function ut(c){Ge=c,t(18,Ge)}function ft(c){re=c,t(1,re)}function ct(c){_e=c,t(2,_e)}function _t(c){pe=c,t(3,pe)}function pt(c){se[c?"unshift":"push"](()=>{te=c,t(4,te)})}const mt=()=>t(15,Ie=!Ie);return s.$$set=c=>{"game"in c&&t(0,E=c.game),"audio"in c&&t(4,te=c.audio),"pointerDown"in c&&t(1,re=c.pointerDown),"pointerX"in c&&t(2,_e=c.pointerX),"pointerY"in c&&t(3,pe=c.pointerY)},s.$$.update=()=>{s.$$.dirty[0]&3087&&E&&re&&_e!==void 0&&pe!==void 0&&E.handlePointerInput(De,ve,_e,pe),s.$$.dirty[0]&1&&u(t(23,n=E==null?void 0:E.state)),s.$$.dirty[1]&1&&t(22,i=r==null?void 0:r.mapWidth),s.$$.dirty[1]&1&&t(21,a=r==null?void 0:r.mapHeight),s.$$.dirty[0]&1&&ee(t(20,l=E==null?void 0:E.events)),s.$$.dirty[0]&1&&k(t(19,f=E==null?void 0:E.status)),s.$$.dirty[0]&8192&&P==="ready"&&me(f,P="playing",P),s.$$.dirty[0]&20480&&ne>w&&(me(Me,w=ne,w),Rt(He,ne))},[E,re,_e,pe,te,Ae,Xe,he,Ye,Ne,De,ve,ne,P,w,Ie,ie,Ve,Ge,f,l,a,i,n,d,U,Q,ae,Me,Pe,tt,r,nt,st,rt,it,at,ot,lt,ut,ft,ct,_t,pt,mt]}class vn extends ye{constructor(e){super(),Re(this,e,Dn,$n,Se,{game:0,audio:4,pointerDown:1,pointerX:2,pointerY:3,tickDurationDecay:5,baseTickDuration:6,currentTickDuration:7,tickDurationMin:8,tickDurationMax:9},null,[-1,-1])}get tickDurationDecay(){return this.$$.ctx[5]}get baseTickDuration(){return this.$$.ctx[6]}get currentTickDuration(){return this.$$.ctx[7]}get tickDurationMin(){return this.$$.ctx[8]}get tickDurationMax(){return this.$$.ctx[9]}}function wn(s){let e,t,n,i,a,l,f;return t=new Kt({props:{alt:"logo for svelte🐍snake🐍sports: buncheses, macro photography of an adorable green cartoon snake with huge cute eyes next to a pile of red apples on lush green moss, realistic 3d video game, digital art, vibrant, artstation",src:Oe+"/assets/buncheses.webp"}}),i=new vn({}),l=new Lt({}),{c(){e=I(),A(t.$$.fragment),n=I(),A(i.$$.fragment),a=I(),A(l.$$.fragment),this.h()},l(r){Dt("svelte-1cosjvy",document.head).forEach(g),e=M(r),X(t.$$.fragment,r),n=M(r),X(i.$$.fragment,r),a=M(r),X(l.$$.fragment,r),this.h()},h(){document.title="svelte🐍snake🐍sports: buncheses"},m(r,o){T(r,e,o),Y(t,r,o),T(r,n,o),Y(i,r,o),T(r,a,o),Y(l,r,o),f=!0},p:K,i(r){f||($(t.$$.fragment,r),$(i.$$.fragment,r),$(l.$$.fragment,r),f=!0)},o(r){v(t.$$.fragment,r),v(i.$$.fragment,r),v(l.$$.fragment,r),f=!1},d(r){r&&(g(e),g(n),g(a)),N(t,r),N(i,r),N(l,r)}}}class In extends ye{constructor(e){super(),Re(this,e,null,wn,Se,{})}}export{In as component};
