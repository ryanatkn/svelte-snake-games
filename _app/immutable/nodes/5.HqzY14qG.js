import{n as $e,f as Ge,a as K,b as ee,g as it,u as at,h as ot,i as lt,c as Ye,e as J,k as ne,j as ce}from"../chunks/scheduler.B5c9wP8t.js";import{S as Te,i as De,e as N,s as C,t as A,c as j,a as P,z as be,f as X,b as Y,d as k,n as U,m as te,g as W,h,j as me,A as he,k as G,l as O,o as q,p as v,q as R,r as L,v as ue,u as ge,x as we,w as ve,B as se,C as ut,D as ft}from"../chunks/index.BpXyRbRA.js";import{b as Ae}from"../chunks/entry.E5pPtJRO.js";import{w as ie}from"../chunks/index.DqKJIJFH.js";import{R as ct,D as mt,a as _t,s as pt,c as dt,b as gt,g as bt,G as ht,T as kt,e as $t,C as Tt,f as Dt,h as wt,i as vt,j as St,u as Rt,d as Et,k as It,r as yt,m as Wt,n as Ct,o as At,p as Xt,q as Yt}from"../chunks/TitleImage.k96_JqnD.js";import{T as Mt}from"../chunks/TimedScores.C0qJLgNV.js";import{s as ke,F as Nt}from"../chunks/Footer.BC-ux_AU.js";function Me(n){let e,t,r,i,a,l,c="25px";return{c(){e=N("div"),t=A("besst is "),r=N("strong"),i=A(n[2]),a=A("ms"),l=A("!"),this.h()},l(s){e=j(s,"DIV",{});var o=P(e);t=Y(o,"besst is "),r=j(o,"STRONG",{});var u=P(r);i=Y(u,n[2]),a=Y(u,"ms"),u.forEach(k),l=Y(o,"!"),o.forEach(k),this.h()},h(){U(e,"position","relative"),U(e,"left",c)},m(s,o){W(s,e,o),h(e,t),h(e,r),h(r,i),h(r,a),h(e,l)},p(s,o){o&4&&me(i,s[2])},d(s){s&&k(e)}}}function jt(n){let e,t,r="keyboard controls below",i,a,l,c,s,o="-15px",u,b,f,g="don't bite yoursself :]",S="55px",d,B,w=n[2]&&Me(n);return{c(){e=N("div"),t=N("div"),t.textContent=r,i=C(),a=N("div"),l=A("eat "),c=A(n[1]),s=A(" apples to win! asap!!"),u=C(),w&&w.c(),b=C(),f=N("div"),f.textContent=g,this.h()},l(T){e=j(T,"DIV",{class:!0});var I=P(e);t=j(I,"DIV",{"data-svelte-h":!0}),be(t)!=="svelte-ng7q6e"&&(t.textContent=r),i=X(I),a=j(I,"DIV",{});var M=P(a);l=Y(M,"eat "),c=Y(M,n[1]),s=Y(M," apples to win! asap!!"),M.forEach(k),u=X(I),w&&w.l(I),b=X(I),f=j(I,"DIV",{"data-svelte-h":!0}),be(f)!=="svelte-1gqc4ah"&&(f.textContent=g),I.forEach(k),this.h()},h(){U(a,"position","relative"),U(a,"left",o),U(f,"position","relative"),U(f,"left",S),te(e,"class","instructions")},m(T,I){W(T,e,I),h(e,t),h(e,i),h(e,a),h(a,l),h(a,c),h(a,s),h(e,u),w&&w.m(e,null),h(e,b),h(e,f),B=!0},p(T,[I]){(!B||I&2)&&me(c,T[1]),T[2]?w?w.p(T,I):(w=Me(T),w.c(),w.m(e,b)):w&&(w.d(1),w=null)},i(T){B||(T&&Ge(()=>{B&&(d||(d=he(e,ke,{},!0)),d.run(1))}),B=!0)},o(T){T&&(d||(d=he(e,ke,{},!1)),d.run(0)),B=!1},d(T){T&&k(e),w&&w.d(),T&&d&&d.end()}}}function Vt(n,e,t){let r,i=K,a=()=>(i(),i=ee(l,s=>t(2,r=s)),l);n.$$.on_destroy.push(()=>i());let{bestTime:l}=e;a();let{applesToWin:c}=e;return n.$$set=s=>{"bestTime"in s&&a(t(0,l=s.bestTime)),"applesToWin"in s&&t(1,c=s.applesToWin)},[l,c,r]}class Gt extends Te{constructor(e){super(),De(this,e,Vt,jt,$e,{bestTime:0,applesToWin:1})}}function Ot(n){let e,t,r;return{c(){e=A("besst is "),t=A(n[3]),r=A("ms!")},l(i){e=Y(i,"besst is "),t=Y(i,n[3]),r=Y(i,"ms!")},m(i,a){W(i,e,a),W(i,t,a),W(i,r,a)},p(i,a){a&8&&me(t,i[3])},d(i){i&&(k(e),k(t),k(r))}}}function qt(n){let e,t="a new high score!!";return{c(){e=N("strong"),e.textContent=t},l(r){e=j(r,"STRONG",{"data-svelte-h":!0}),be(e)!=="svelte-kxxo23"&&(e.textContent=t)},m(r,i){W(r,e,i)},p:K,d(r){r&&k(e)}}}function Lt(n){let e;return{c(){e=A(":))")},l(t){e=Y(t,":))")},m(t,r){W(t,e,r)},d(t){t&&k(e)}}}function Bt(n){let e;return{c(){e=A(":D")},l(t){e=Y(t,":D")},m(t,r){W(t,e,r)},d(t){t&&k(e)}}}function Ht(n){let e;function t(a,l){return a[5]?Bt:Lt}let r=t(n),i=r(n);return{c(){i.c(),e=ue()},l(a){i.l(a),e=ue()},m(a,l){i.m(a,l),W(a,e,l)},p(a,l){r!==(r=t(a))&&(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){a&&k(e),i.d(a)}}}function Pt(n){let e,t,r,i,a,l,c,s,o,u,b,f,g="55px",S,d,B="25px",w,T,I,M,E;function Q(_,m){return _[5]?qt:Ot}let x=Q(n),V=x(n);T=new ct({props:{restart:n[2],$$slots:{default:[Ht]},$$scope:{ctx:n}}});const F=n[8].default,y=it(F,n,n[9],null);return{c(){e=N("div"),t=N("div"),r=A("you ate all "),i=A(n[1]),a=A(" apples :O"),l=C(),c=N("div"),s=A("in "),o=N("strong"),u=A(n[4]),b=A("ms"),f=A("!"),S=C(),d=N("div"),V.c(),w=C(),G(T.$$.fragment),I=C(),y&&y.c(),this.h()},l(_){e=j(_,"DIV",{class:!0});var m=P(e);t=j(m,"DIV",{});var D=P(t);r=Y(D,"you ate all "),i=Y(D,n[1]),a=Y(D," apples :O"),D.forEach(k),l=X(m),c=j(m,"DIV",{});var $=P(c);s=Y($,"in "),o=j($,"STRONG",{});var H=P(o);u=Y(H,n[4]),b=Y(H,"ms"),H.forEach(k),f=Y($,"!"),$.forEach(k),S=X(m),d=j(m,"DIV",{});var z=P(d);V.l(z),z.forEach(k),w=X(m),O(T.$$.fragment,m),I=X(m),y&&y.l(m),m.forEach(k),this.h()},h(){U(c,"position","relative"),U(c,"left",g),U(d,"position","relative"),U(d,"left",B),te(e,"class","instructions")},m(_,m){W(_,e,m),h(e,t),h(t,r),h(t,i),h(t,a),h(e,l),h(e,c),h(c,s),h(c,o),h(o,u),h(o,b),h(c,f),h(e,S),h(e,d),V.m(d,null),h(e,w),q(T,e,null),h(e,I),y&&y.m(e,null),E=!0},p(_,[m]){(!E||m&2)&&me(i,_[1]),(!E||m&16)&&me(u,_[4]),x===(x=Q(_))&&V?V.p(_,m):(V.d(1),V=x(_),V&&(V.c(),V.m(d,null)));const D={};m&4&&(D.restart=_[2]),m&544&&(D.$$scope={dirty:m,ctx:_}),T.$set(D),y&&y.p&&(!E||m&512)&&at(y,F,_,_[9],E?lt(F,_[9],m,null):ot(_[9]),null)},i(_){E||(v(T.$$.fragment,_),v(y,_),_&&Ge(()=>{E&&(M||(M=he(e,ke,{},!0)),M.run(1))}),E=!0)},o(_){R(T.$$.fragment,_),R(y,_),_&&(M||(M=he(e,ke,{},!1)),M.run(0)),E=!1},d(_){_&&k(e),V.d(),L(T),y&&y.d(_),_&&M&&M.end()}}}function zt(n,e,t){let r,i,a,l,c=K,s=()=>(c(),c=ee(f,d=>t(7,l=d)),f);n.$$.on_destroy.push(()=>c());let{$$slots:o={},$$scope:u}=e,{time:b}=e,{bestTime:f}=e;s();let{applesToWin:g}=e,{restart:S}=e;return n.$$set=d=>{"time"in d&&t(6,b=d.time),"bestTime"in d&&s(t(0,f=d.bestTime)),"applesToWin"in d&&t(1,g=d.applesToWin),"restart"in d&&t(2,S=d.restart),"$$scope"in d&&t(9,u=d.$$scope)},n.$$.update=()=>{n.$$.dirty&64&&t(4,r=Math.round(b)),n.$$.dirty&128&&t(3,i=l===null?0:Math.round(l)),n.$$.dirty&24&&t(5,a=r===i)},[f,g,S,i,r,a,b,l,o,u]}class Ft extends Te{constructor(e){super(),De(this,e,zt,Pt,$e,{time:6,bestTime:0,applesToWin:1,restart:2})}}function Ne(n){let e,t,r,i,a,l,c;function s(g){n[44](g)}function o(g){n[45](g)}function u(g){n[46](g)}let b={$$slots:{overlay:[xt],default:[Ut]},$$scope:{ctx:n}};n[1]!==void 0&&(b.pointerDown=n[1]),n[2]!==void 0&&(b.pointerX=n[2]),n[3]!==void 0&&(b.pointerY=n[3]),e=new ht({props:b}),J.push(()=>se(e,"pointerDown",s)),J.push(()=>se(e,"pointerX",o)),J.push(()=>se(e,"pointerY",u));let f=n[15]&&n[16]&&n[17]&&je(n);return{c(){G(e.$$.fragment),a=C(),f&&f.c(),l=ue()},l(g){O(e.$$.fragment,g),a=X(g),f&&f.l(g),l=ue()},m(g,S){q(e,g,S),W(g,a,S),f&&f.m(g,S),W(g,l,S),c=!0},p(g,S){const d={};S[0]&769025|S[1]&4194304&&(d.$$scope={dirty:S,ctx:g}),!t&&S[0]&2&&(t=!0,d.pointerDown=g[1],ne(()=>t=!1)),!r&&S[0]&4&&(r=!0,d.pointerX=g[2],ne(()=>r=!1)),!i&&S[0]&8&&(i=!0,d.pointerY=g[3],ne(()=>i=!1)),e.$set(d),g[15]&&g[16]&&g[17]?f?(f.p(g,S),S[0]&229376&&v(f,1)):(f=je(g),f.c(),v(f,1),f.m(l.parentNode,l)):f&&(we(),R(f,1,1,()=>{f=null}),ve())},i(g){c||(v(e.$$.fragment,g),v(f),c=!0)},o(g){R(e.$$.fragment,g),R(f),c=!1},d(g){g&&(k(a),k(l)),L(e,g),f&&f.d(g)}}}function Kt(n){let e,t,r,i;function a(s){n[39](s)}function l(s){n[40](s)}let c={game:n[0],width:n[51],height:n[52]};return n[10]!==void 0&&(c.snakeX=n[10]),n[11]!==void 0&&(c.snakeY=n[11]),e=new At({props:c}),J.push(()=>se(e,"snakeX",a)),J.push(()=>se(e,"snakeY",l)),{c(){G(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,o){q(e,s,o),i=!0},p(s,o){const u={};o[0]&1&&(u.game=s[0]),o[1]&1048576&&(u.width=s[51]),o[1]&2097152&&(u.height=s[52]),!t&&o[0]&1024&&(t=!0,u.snakeX=s[10],ne(()=>t=!1)),!r&&o[0]&2048&&(r=!0,u.snakeY=s[11],ne(()=>r=!1)),e.$set(u)},i(s){i||(v(e.$$.fragment,s),i=!0)},o(s){R(e.$$.fragment,s),i=!1},d(s){L(e,s)}}}function Ut(n){let e,t,r,i,a;function l(u){n[41](u)}function c(u){n[42](u)}function s(u){n[43](u)}let o={dimensions:n[29],marginBottom:100,$$slots:{default:[Kt,({worldWidth:u,worldHeight:b})=>({51:u,52:b}),({worldWidth:u,worldHeight:b})=>[0,(u?1048576:0)|(b?2097152:0)]]},$$scope:{ctx:n}};return n[15]!==void 0&&(o.rendererWidth=n[15]),n[16]!==void 0&&(o.autoAspectRatio=n[16]),n[17]!==void 0&&(o.aspectRatio=n[17]),e=new Wt({props:o}),J.push(()=>se(e,"rendererWidth",l)),J.push(()=>se(e,"autoAspectRatio",c)),J.push(()=>se(e,"aspectRatio",s)),{c(){G(e.$$.fragment)},l(u){O(e.$$.fragment,u)},m(u,b){q(e,u,b),a=!0},p(u,b){const f={};b[0]&3073|b[1]&7340032&&(f.$$scope={dirty:b,ctx:u}),!t&&b[0]&32768&&(t=!0,f.rendererWidth=u[15],ne(()=>t=!1)),!r&&b[0]&65536&&(r=!0,f.autoAspectRatio=u[16],ne(()=>r=!1)),!i&&b[0]&131072&&(i=!0,f.aspectRatio=u[17],ne(()=>i=!1)),e.$set(f)},i(u){a||(v(e.$$.fragment,u),a=!0)},o(u){R(e.$$.fragment,u),a=!1},d(u){L(e,u)}}}function Jt(n){let e,t;return e=new Ft({props:{restart:n[30],time:n[19],bestTime:n[31],applesToWin:_e,$$slots:{default:[Zt]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p(r,i){const a={};i[0]&524288&&(a.time=r[19]),i[1]&4194304&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){L(e,r)}}}function Qt(n){let e,t;return e=new Gt({props:{bestTime:n[31],applesToWin:_e}}),{c(){G(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,i){q(e,r,i),t=!0},p:K,i(r){t||(v(e.$$.fragment,r),t=!0)},o(r){R(e.$$.fragment,r),t=!1},d(r){L(e,r)}}}function Zt(n){let e,t,r;return t=new Xt({props:{count:50,items:["🐍","🐍","🌸","🌺"],hueRotationMax:360}}),{c(){e=N("div"),G(t.$$.fragment),this.h()},l(i){e=j(i,"DIV",{class:!0});var a=P(e);O(t.$$.fragment,a),a.forEach(k),this.h()},h(){te(e,"class","text-burst-wrapper svelte-ol72jj")},m(i,a){W(i,e,a),q(t,e,null),r=!0},p:K,i(i){r||(v(t.$$.fragment,i),r=!0)},o(i){R(t.$$.fragment,i),r=!1},d(i){i&&k(e),L(t)}}}function xt(n){let e,t,r,i;const a=[Qt,Jt],l=[];function c(s,o){return s[12]===0?0:s[13]==="win"?1:-1}return~(e=c(n))&&(t=l[e]=a[e](n)),{c(){t&&t.c(),r=ue()},l(s){t&&t.l(s),r=ue()},m(s,o){~e&&l[e].m(s,o),W(s,r,o),i=!0},p(s,o){let u=e;e=c(s),e===u?~e&&l[e].p(s,o):(t&&(we(),R(l[u],1,1,()=>{l[u]=null}),ve()),~e?(t=l[e],t?t.p(s,o):(t=l[e]=a[e](s),t.c()),v(t,1),t.m(r.parentNode,r)):t=null)},i(s){i||(v(t),i=!0)},o(s){R(t),i=!1},d(s){s&&k(r),~e&&l[e].d(s)}}}function je(n){let e,t,r,i,a,l,c,s,o,u,b,f,g=`<a href="https://www.serpentsoundstudios.com/">Alexander Nakarada</a> -
						<a href="${Ae}/assets/Alexander_Nakarada__Lurking_Sloth.mp3">Lurking Sloth</a>`,S,d,B,w,T,I,M,E,Q;t=new kt({props:{clock:n[28],tickDuration:n[6],tick:n[32]}}),i=new Mt({props:{applesEaten:n[12],applesToWin:_e,currentTime:n[19],bestTime:n[25],rendererWidth:n[15]}}),l=new $t({props:{clock:n[28],tick:n[32],game:n[0]}}),o=new Tt({});let x={song:Ae+"/assets/Alexander_Nakarada__Lurking_Sloth.mp3"};d=new Dt({props:x}),n[47](d);function V(m,D){return m[14]?tn:en}let F=V(n),y=F(n),_=n[14]&&Ve(n);return{c(){e=N("div"),G(t.$$.fragment),r=C(),G(i.$$.fragment),a=C(),G(l.$$.fragment),c=C(),s=N("section"),G(o.$$.fragment),u=C(),b=N("section"),f=N("p"),f.innerHTML=g,S=C(),G(d.$$.fragment),B=C(),w=N("section"),T=N("button"),y.c(),I=C(),_&&_.c(),this.h()},l(m){e=j(m,"DIV",{class:!0});var D=P(e);O(t.$$.fragment,D),r=X(D),O(i.$$.fragment,D),a=X(D),O(l.$$.fragment,D),c=X(D),s=j(D,"SECTION",{class:!0});var $=P(s);O(o.$$.fragment,$),$.forEach(k),u=X(D),b=j(D,"SECTION",{class:!0});var H=P(b);f=j(H,"P",{"data-svelte-h":!0}),be(f)!=="svelte-okqa3z"&&(f.innerHTML=g),S=X(H),O(d.$$.fragment,H),H.forEach(k),B=X(D),w=j(D,"SECTION",{class:!0});var z=P(w);T=j(z,"BUTTON",{});var Z=P(T);y.l(Z),Z.forEach(k),I=X(z),_&&_.l(z),z.forEach(k),D.forEach(k),this.h()},h(){te(s,"class","panel svelte-ol72jj"),U(s,"padding","var(--space_xl)"),te(b,"class","box prose svelte-ol72jj"),te(w,"class","box svelte-ol72jj"),te(e,"class","info svelte-ol72jj")},m(m,D){W(m,e,D),q(t,e,null),h(e,r),q(i,e,null),h(e,a),q(l,e,null),h(e,c),h(e,s),q(o,s,null),h(e,u),h(e,b),h(b,f),h(b,S),q(d,b,null),h(e,B),h(e,w),h(w,T),y.m(T,null),h(w,I),_&&_.m(w,null),M=!0,E||(Q=ut(T,"click",n[48]),E=!0)},p(m,D){const $={};D[0]&4096&&($.applesEaten=m[12]),D[0]&524288&&($.currentTime=m[19]),D[0]&33554432&&($.bestTime=m[25]),D[0]&32768&&($.rendererWidth=m[15]),i.$set($);const H={};D[0]&1&&(H.game=m[0]),l.$set(H);const z={};d.$set(z),F!==(F=V(m))&&(y.d(1),y=F(m),y&&(y.c(),y.m(T,null))),m[14]?_?(_.p(m,D),D[0]&16384&&v(_,1)):(_=Ve(m),_.c(),v(_,1),_.m(w,null)):_&&(we(),R(_,1,1,()=>{_=null}),ve())},i(m){M||(v(t.$$.fragment,m),v(i.$$.fragment,m),v(l.$$.fragment,m),v(o.$$.fragment,m),v(d.$$.fragment,m),v(_),M=!0)},o(m){R(t.$$.fragment,m),R(i.$$.fragment,m),R(l.$$.fragment,m),R(o.$$.fragment,m),R(d.$$.fragment,m),R(_),M=!1},d(m){m&&k(e),L(t),L(i),L(l),L(o),n[47](null),L(d),y.d(),_&&_.d(),E=!1,Q()}}}function en(n){let e;return{c(){e=A("show settings")},l(t){e=Y(t,"show settings")},m(t,r){W(t,e,r)},d(t){t&&k(e)}}}function tn(n){let e;return{c(){e=A("stash settings")},l(t){e=Y(t,"stash settings")},m(t,r){W(t,e,r)},d(t){t&&k(e)}}}function Ve(n){let e,t,r,i;return e=new wt({props:{game:n[0],tickDuration:n[6]}}),r=new vt({props:{game:n[0],baseTickDuration:n[5],tickDurationMin:n[8],tickDurationMax:n[9],tickDurationDecay:n[7],autoAspectRatio:n[16],aspectRatio:n[17]}}),{c(){G(e.$$.fragment),t=C(),G(r.$$.fragment)},l(a){O(e.$$.fragment,a),t=X(a),O(r.$$.fragment,a)},m(a,l){q(e,a,l),W(a,t,l),q(r,a,l),i=!0},p(a,l){const c={};l[0]&1&&(c.game=a[0]),e.$set(c);const s={};l[0]&1&&(s.game=a[0]),l[0]&65536&&(s.autoAspectRatio=a[16]),l[0]&131072&&(s.aspectRatio=a[17]),r.$set(s)},i(a){i||(v(e.$$.fragment,a),v(r.$$.fragment,a),i=!0)},o(a){R(e.$$.fragment,a),R(r.$$.fragment,a),i=!1},d(a){a&&k(t),L(e,a),L(r,a)}}}function nn(n){let e,t,r,i,a,l;e=new mt({props:{dimensions:n[29]}});let c={storageKey:Xe,toInitialState:n[35],tick:n[32],onReset:n[36],spawnApples:n[37]};i=new _t({props:c}),n[38](i);let s=n[0]&&Ne(n);return{c(){G(e.$$.fragment),t=C(),r=N("div"),G(i.$$.fragment),a=C(),s&&s.c(),this.h()},l(o){O(e.$$.fragment,o),t=X(o),r=j(o,"DIV",{class:!0});var u=P(r);O(i.$$.fragment,u),a=X(u),s&&s.l(u),u.forEach(k),this.h()},h(){te(r,"class","SsspeedSnake svelte-ol72jj"),ge(r,"game-win",n[13]==="win"),ge(r,"game-ready",n[13]==="ready")},m(o,u){q(e,o,u),W(o,t,u),W(o,r,u),q(i,r,null),h(r,a),s&&s.m(r,null),l=!0},p(o,u){const b={};u[0]&12582912&&(b.toInitialState=o[35]),u[0]&202117120&&(b.onReset=o[36]),u[0]&4096&&(b.spawnApples=o[37]),i.$set(b),o[0]?s?(s.p(o,u),u[0]&1&&v(s,1)):(s=Ne(o),s.c(),v(s,1),s.m(r,null)):s&&(we(),R(s,1,1,()=>{s=null}),ve()),(!l||u[0]&8192)&&ge(r,"game-win",o[13]==="win"),(!l||u[0]&8192)&&ge(r,"game-ready",o[13]==="ready")},i(o){l||(v(e.$$.fragment,o),v(i.$$.fragment,o),v(s),l=!0)},o(o){R(e.$$.fragment,o),R(i.$$.fragment,o),R(s),l=!1},d(o){o&&(k(t),k(r)),L(e,o),n[38](null),L(i),s&&s.d()}}}const Xe="ssspeed_high_score",_e=66;function sn(n,e,t){let r,i,a,l,c,s,o,u=K,b=()=>(u(),u=ee(Re,p=>t(26,o=p)),Re),f,g=K,S=()=>(g(),g=ee(oe,p=>t(27,f=p)),oe),d,B=K,w=()=>(B(),B=ee(Ee,p=>t(49,d=p)),Ee),T,I=K,M=()=>(I(),I=ee(l,p=>t(50,T=p)),l),E,Q=K,x=()=>(Q(),Q=ee(r,p=>t(33,E=p)),r),V,F=K,y=()=>(F(),F=ee(c,p=>t(13,V=p)),c),_;n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>g()),n.$$.on_destroy.push(()=>B()),n.$$.on_destroy.push(()=>I()),n.$$.on_destroy.push(()=>Q()),n.$$.on_destroy.push(()=>F());const m=pt(dt({running:!0}));Ye(n,m,p=>t(34,_=p));const D=ie({width:0,height:0});let{game:$=void 0}=e,{audio:H=void 0}=e,{pointerDown:z=!1}=e,{pointerX:Z=void 0}=e,{pointerY:ae=void 0}=e,pe,de,Se=!1;const Re=ie(Math.round(1e3/6));b();const oe=gt(ie(o));S();const Ee=ie(.5);w();const Oe=ie(17),qe=ie(2e3);let Ie,ye,We,re=0,le=0;const Le=()=>{$&&($.reset(),$.start())};let fe=0;const Ce=ie(bt(Xe,St)??null);Ye(n,Ce,p=>t(25,s=p));const Be=()=>{if(!$||!E||!T||V!=="playing")return!1;ce(r,E=Rt(E,$),E);for(const p of T)switch(p.name){case"eat_apple":{t(12,re++,re),t(18,le++,le),ce(oe,f*=d**(1/le**1.7),f);break}case"snake_collide_self":case"snake_collide_bounds":{ce(oe,f=o,f),t(18,le=0),$.resetMovementCommands();break}}return re>=_e&&($.end("win"),(!s||fe<s)&&(ce(Ce,s=Math.round(fe),s),Et(Xe,s))),!0},He=()=>It(Ct({mapWidth:i,mapHeight:a})),Pe=()=>{ce(oe,f=o,f),t(19,fe=0),t(12,re=0),t(18,le=0)},ze=(p,rt)=>{if(p.apples.length+re+1<_e)return yt(p,rt)};function Fe(p){J[p?"unshift":"push"](()=>{$=p,t(0,$)})}function Ke(p){pe=p,t(10,pe)}function Ue(p){de=p,t(11,de)}function Je(p){Ie=p,t(15,Ie)}function Qe(p){ye=p,t(16,ye)}function Ze(p){We=p,t(17,We)}function xe(p){z=p,t(1,z)}function et(p){Z=p,t(2,Z)}function tt(p){ae=p,t(3,ae)}function nt(p){J[p?"unshift":"push"](()=>{H=p,t(4,H)})}const st=()=>t(14,Se=!Se);return n.$$set=p=>{"game"in p&&t(0,$=p.game),"audio"in p&&t(4,H=p.audio),"pointerDown"in p&&t(1,z=p.pointerDown),"pointerX"in p&&t(2,Z=p.pointerX),"pointerY"in p&&t(3,ae=p.pointerY)},n.$$.update=()=>{n.$$.dirty[0]&7183&&$&&z&&Z!==void 0&&ae!==void 0&&(re===0&&$.start(),$.handlePointerInput(pe,de,Z,ae)),n.$$.dirty[0]&1&&x(t(24,r=$==null?void 0:$.state)),n.$$.dirty[1]&4&&t(23,i=E==null?void 0:E.mapWidth),n.$$.dirty[1]&4&&t(22,a=E==null?void 0:E.mapHeight),n.$$.dirty[0]&1&&M(t(21,l=$==null?void 0:$.events)),n.$$.dirty[0]&1&&y(t(20,c=$==null?void 0:$.status)),n.$$.dirty[0]&532480|n.$$.dirty[1]&8&&V==="playing"&&t(19,fe+=_.dt)},[$,z,Z,ae,H,Re,oe,Ee,Oe,qe,pe,de,re,V,Se,Ie,ye,We,le,fe,c,l,a,i,r,s,o,f,m,D,Le,Ce,Be,E,_,He,Pe,ze,Fe,Ke,Ue,Je,Qe,Ze,xe,et,tt,nt,st]}class rn extends Te{constructor(e){super(),De(this,e,sn,nn,$e,{game:0,audio:4,pointerDown:1,pointerX:2,pointerY:3,baseTickDuration:5,currentTickDuration:6,tickDurationDecay:7,tickDurationMin:8,tickDurationMax:9},null,[-1,-1])}get baseTickDuration(){return this.$$.ctx[5]}get currentTickDuration(){return this.$$.ctx[6]}get tickDurationDecay(){return this.$$.ctx[7]}get tickDurationMin(){return this.$$.ctx[8]}get tickDurationMax(){return this.$$.ctx[9]}}function an(n){let e,t,r,i,a,l,c;return t=new Yt({props:{alt:"logo for svelte🐍snake🐍sports: ssspeed, macro photography of a cute cartoon snake eating a red apple on lush green moss in a 3d video game",src:Ae+"/assets/ssspeed.webp"}}),i=new rn({}),l=new Nt({}),{c(){e=C(),G(t.$$.fragment),r=C(),G(i.$$.fragment),a=C(),G(l.$$.fragment),this.h()},l(s){ft("svelte-1z10a15",document.head).forEach(k),e=X(s),O(t.$$.fragment,s),r=X(s),O(i.$$.fragment,s),a=X(s),O(l.$$.fragment,s),this.h()},h(){document.title="svelte🐍snake🐍sports: ssspeed"},m(s,o){W(s,e,o),q(t,s,o),W(s,r,o),q(i,s,o),W(s,a,o),q(l,s,o),c=!0},p:K,i(s){c||(v(t.$$.fragment,s),v(i.$$.fragment,s),v(l.$$.fragment,s),c=!0)},o(s){R(t.$$.fragment,s),R(i.$$.fragment,s),R(l.$$.fragment,s),c=!1},d(s){s&&(k(e),k(r),k(a)),L(t,s),L(i,s),L(l,s)}}}class pn extends Te{constructor(e){super(),De(this,e,null,an,$e,{})}}export{pn as component};
