import{n as ye,f as je,a as P,b as Z,g as rt,u as at,h as ot,i as lt,c as ft,j as de,e as se,k as oe}from"../chunks/scheduler.B5c9wP8t.js";import{S as Se,i as Ae,e as L,s as R,c as B,a as z,z as $e,f as C,d as g,n as ae,m as ne,g as I,h as k,A as we,t as Y,b as N,j as le,k as V,l as G,o as O,p as v,q as y,r as q,v as _e,u as ve,x as he,w as ke,B as fe,C as ut,D as ct}from"../chunks/index.BpXyRbRA.js";import{b as Ve}from"../chunks/entry.YIhbdsK-.js";import{w as re}from"../chunks/index.DqKJIJFH.js";import{R as _t,D as pt,a as mt,s as gt,c as dt,g as $t,b as ht,d as kt,G as bt,S as Ke,T as Dt,e as vt,C as wt,f as Et,h as yt,i as St,k as At,j as It,u as Tt,m as Rt,n as Ct,o as Mt,p as Xt,q as Yt}from"../chunks/TitleImage.wha2suC7.js";import{s as Ee,F as Nt}from"../chunks/Footer.bPc_mzDc.js";function Oe(n){let e,t,s,r,a=n[1]===1?"":"s",l,c="!".repeat(n[1]/10|0)+"",i;return{c(){e=L("div"),t=Y("besst is "),s=Y(n[1]),r=Y(" apple"),l=Y(a),i=Y(c)},l(o){e=B(o,"DIV",{});var f=z(e);t=N(f,"besst is "),s=N(f,n[1]),r=N(f," apple"),l=N(f,a),i=N(f,c),f.forEach(g)},m(o,f){I(o,e,f),k(e,t),k(e,s),k(e,r),k(e,l),k(e,i)},p(o,f){f&2&&le(s,o[1]),f&2&&a!==(a=o[1]===1?"":"s")&&le(l,a),f&2&&c!==(c="!".repeat(o[1]/10|0)+"")&&le(i,c)},d(o){o&&g(e)}}}function Vt(n){let e,t,s="keyboard controls below",r,a,l="eat many apples!",c="-15px",i,o,f,w="don't bite yoursself :]",m="55px",_,d,$=n[1]&&Oe(n);return{c(){e=L("div"),t=L("div"),t.textContent=s,r=R(),a=L("div"),a.textContent=l,i=R(),$&&$.c(),o=R(),f=L("div"),f.textContent=w,this.h()},l(h){e=B(h,"DIV",{class:!0});var A=z(e);t=B(A,"DIV",{"data-svelte-h":!0}),$e(t)!=="svelte-ng7q6e"&&(t.textContent=s),r=C(A),a=B(A,"DIV",{"data-svelte-h":!0}),$e(a)!=="svelte-ae3uqg"&&(a.textContent=l),i=C(A),$&&$.l(A),o=C(A),f=B(A,"DIV",{"data-svelte-h":!0}),$e(f)!=="svelte-1gqc4ah"&&(f.textContent=w),A.forEach(g),this.h()},h(){ae(a,"position","relative"),ae(a,"left",c),ae(f,"position","relative"),ae(f,"left",m),ne(e,"class","instructions")},m(h,A){I(h,e,A),k(e,t),k(e,r),k(e,a),k(e,i),$&&$.m(e,null),k(e,o),k(e,f),d=!0},p(h,[A]){h[1]?$?$.p(h,A):($=Oe(h),$.c(),$.m(e,o)):$&&($.d(1),$=null)},i(h){d||(h&&je(()=>{d&&(_||(_=we(e,Ee,{},!0)),_.run(1))}),d=!0)},o(h){h&&(_||(_=we(e,Ee,{},!1)),_.run(0)),d=!1},d(h){h&&g(e),$&&$.d(),h&&_&&_.end()}}}function Gt(n,e,t){let s,r=P,a=()=>(r(),r=Z(l,c=>t(1,s=c)),l);n.$$.on_destroy.push(()=>r());let{highestApplesEaten:l}=e;return a(),n.$$set=c=>{"highestApplesEaten"in c&&a(t(0,l=c.highestApplesEaten))},[l,s]}class Ot extends Se{constructor(e){super(),Ae(this,e,Gt,Vt,ye,{highestApplesEaten:0})}}function qe(n){let e;return{c(){e=Y("s")},l(t){e=N(t,"s")},m(t,s){I(t,e,s)},d(t){t&&g(e)}}}function qt(n){let e;return{c(){e=Y(":O")},l(t){e=N(t,":O")},m(t,s){I(t,e,s)},d(t){t&&g(e)}}}function Ht(n){let e;return{c(){e=Y(":o")},l(t){e=N(t,":o")},m(t,s){I(t,e,s)},d(t){t&&g(e)}}}function Lt(n){let e,t,s;return{c(){e=Y("besst is "),t=Y(n[3]),s=Y("!")},l(r){e=N(r,"besst is "),t=N(r,n[3]),s=N(r,"!")},m(r,a){I(r,e,a),I(r,t,a),I(r,s,a)},p(r,a){a&8&&le(t,r[3])},d(r){r&&(g(e),g(t),g(s))}}}function Bt(n){let e,t="a new high score!!";return{c(){e=L("strong"),e.textContent=t},l(s){e=B(s,"STRONG",{"data-svelte-h":!0}),$e(e)!=="svelte-kxxo23"&&(e.textContent=t)},m(s,r){I(s,e,r)},p:P,d(s){s&&g(e)}}}function Ft(n){let e;return{c(){e=Y(":))")},l(t){e=N(t,":))")},m(t,s){I(t,e,s)},d(t){t&&g(e)}}}function jt(n){let e;return{c(){e=Y(":D")},l(t){e=N(t,":D")},m(t,s){I(t,e,s)},d(t){t&&g(e)}}}function Kt(n){let e;function t(a,l){return a[4]?jt:Ft}let s=t(n),r=s(n);return{c(){r.c(),e=_e()},l(a){r.l(a),e=_e()},m(a,l){r.m(a,l),I(a,e,l)},p(a,l){s!==(s=t(a))&&(r.d(1),r=s(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){a&&g(e),r.d(a)}}}function Pt(n){let e,t,s,r,a,l,c,i,o,f="25px",w,m,_,d,$,h=n[0]!==1&&qe();function A(u,b){return u[0]<25?Ht:qt}let W=A(n),M=W(n);function K(u,b){return u[4]?Bt:Lt}let U=K(n),F=U(n);m=new _t({props:{restart:n[2],$$slots:{default:[Kt]},$$scope:{ctx:n}}});const J=n[5].default,X=rt(J,n,n[6],null);return{c(){e=L("div"),t=L("div"),s=Y("you ate "),r=L("strong"),a=Y(n[0]),l=Y(" apple"),h&&h.c(),c=R(),M.c(),i=R(),o=L("div"),F.c(),w=R(),V(m.$$.fragment),_=R(),X&&X.c(),this.h()},l(u){e=B(u,"DIV",{class:!0});var b=z(e);t=B(b,"DIV",{});var j=z(t);s=N(j,"you ate "),r=B(j,"STRONG",{});var x=z(r);a=N(x,n[0]),x.forEach(g),l=N(j," apple"),h&&h.l(j),c=C(j),M.l(j),j.forEach(g),i=C(b),o=B(b,"DIV",{});var H=z(o);F.l(H),H.forEach(g),w=C(b),G(m.$$.fragment,b),_=C(b),X&&X.l(b),b.forEach(g),this.h()},h(){ae(o,"position","relative"),ae(o,"left",f),ne(e,"class","instructions")},m(u,b){I(u,e,b),k(e,t),k(t,s),k(t,r),k(r,a),k(t,l),h&&h.m(t,null),k(t,c),M.m(t,null),k(e,i),k(e,o),F.m(o,null),k(e,w),O(m,e,null),k(e,_),X&&X.m(e,null),$=!0},p(u,[b]){(!$||b&1)&&le(a,u[0]),u[0]!==1?h||(h=qe(),h.c(),h.m(t,c)):h&&(h.d(1),h=null),W!==(W=A(u))&&(M.d(1),M=W(u),M&&(M.c(),M.m(t,null))),U===(U=K(u))&&F?F.p(u,b):(F.d(1),F=U(u),F&&(F.c(),F.m(o,null)));const j={};b&4&&(j.restart=u[2]),b&80&&(j.$$scope={dirty:b,ctx:u}),m.$set(j),X&&X.p&&(!$||b&64)&&at(X,J,u,u[6],$?lt(J,u[6],b,null):ot(u[6]),null)},i(u){$||(v(m.$$.fragment,u),v(X,u),u&&je(()=>{$&&(d||(d=we(e,Ee,{},!0)),d.run(1))}),$=!0)},o(u){y(m.$$.fragment,u),y(X,u),u&&(d||(d=we(e,Ee,{},!1)),d.run(0)),$=!1},d(u){u&&g(e),h&&h.d(),M.d(),F.d(),q(m),X&&X.d(u),u&&d&&d.end()}}}function zt(n,e,t){let s,r,a=P,l=()=>(a(),a=Z(f,m=>t(3,r=m)),f);n.$$.on_destroy.push(()=>a());let{$$slots:c={},$$scope:i}=e,{applesEaten:o}=e,{highestApplesEaten:f}=e;l();let{restart:w}=e;return n.$$set=m=>{"applesEaten"in m&&t(0,o=m.applesEaten),"highestApplesEaten"in m&&l(t(1,f=m.highestApplesEaten)),"restart"in m&&t(2,w=m.restart),"$$scope"in m&&t(6,i=m.$$scope)},n.$$.update=()=>{n.$$.dirty&9&&t(4,s=o===r)},[o,f,w,r,s,c,i]}class Wt extends Se{constructor(e){super(),Ae(this,e,zt,Pt,ye,{applesEaten:0,highestApplesEaten:1,restart:2})}}function He(n){let e,t,s,r,a,l,c;function i(_){n[36](_)}function o(_){n[37](_)}function f(_){n[38](_)}let w={$$slots:{overlay:[en],default:[Jt]},$$scope:{ctx:n}};n[1]!==void 0&&(w.pointerDown=n[1]),n[2]!==void 0&&(w.pointerX=n[2]),n[3]!==void 0&&(w.pointerY=n[3]),e=new bt({props:w}),se.push(()=>fe(e,"pointerDown",i)),se.push(()=>fe(e,"pointerX",o)),se.push(()=>fe(e,"pointerY",f));let m=n[17]&&n[18]&&Le(n);return{c(){V(e.$$.fragment),a=R(),m&&m.c(),l=_e()},l(_){G(e.$$.fragment,_),a=C(_),m&&m.l(_),l=_e()},m(_,d){O(e,_,d),I(_,a,d),m&&m.m(_,d),I(_,l,d),c=!0},p(_,d){const $={};d[0]&423937|d[1]&262144&&($.$$scope={dirty:d,ctx:_}),!t&&d[0]&2&&(t=!0,$.pointerDown=_[1],oe(()=>t=!1)),!s&&d[0]&4&&(s=!0,$.pointerX=_[2],oe(()=>s=!1)),!r&&d[0]&8&&(r=!0,$.pointerY=_[3],oe(()=>r=!1)),e.$set($),_[17]&&_[18]?m?(m.p(_,d),d[0]&393216&&v(m,1)):(m=Le(_),m.c(),v(m,1),m.m(l.parentNode,l)):m&&(he(),y(m,1,1,()=>{m=null}),ke())},i(_){c||(v(e.$$.fragment,_),v(m),c=!0)},o(_){y(e.$$.fragment,_),y(m),c=!1},d(_){_&&(g(a),g(l)),q(e,_),m&&m.d(_)}}}function Ut(n){let e,t,s,r;function a(i){n[32](i)}function l(i){n[33](i)}let c={game:n[0],width:n[47],height:n[48]};return n[11]!==void 0&&(c.snakeX=n[11]),n[12]!==void 0&&(c.snakeY=n[12]),e=new Mt({props:c}),se.push(()=>fe(e,"snakeX",a)),se.push(()=>fe(e,"snakeY",l)),{c(){V(e.$$.fragment)},l(i){G(e.$$.fragment,i)},m(i,o){O(e,i,o),r=!0},p(i,o){const f={};o[0]&1&&(f.game=i[0]),o[1]&65536&&(f.width=i[47]),o[1]&131072&&(f.height=i[48]),!t&&o[0]&2048&&(t=!0,f.snakeX=i[11],oe(()=>t=!1)),!s&&o[0]&4096&&(s=!0,f.snakeY=i[12],oe(()=>s=!1)),e.$set(f)},i(i){r||(v(e.$$.fragment,i),r=!0)},o(i){y(e.$$.fragment,i),r=!1},d(i){q(e,i)}}}function Jt(n){let e,t,s,r;function a(i){n[34](i)}function l(i){n[35](i)}let c={dimensions:n[25],$$slots:{default:[Ut,({worldWidth:i,worldHeight:o})=>({47:i,48:o}),({worldWidth:i,worldHeight:o})=>[0,(i?65536:0)|(o?131072:0)]]},$$scope:{ctx:n}};return n[17]!==void 0&&(c.autoAspectRatio=n[17]),n[18]!==void 0&&(c.aspectRatio=n[18]),e=new Rt({props:c}),se.push(()=>fe(e,"autoAspectRatio",a)),se.push(()=>fe(e,"aspectRatio",l)),{c(){V(e.$$.fragment)},l(i){G(e.$$.fragment,i)},m(i,o){O(e,i,o),r=!0},p(i,o){const f={};o[0]&6145|o[1]&458752&&(f.$$scope={dirty:o,ctx:i}),!t&&o[0]&131072&&(t=!0,f.autoAspectRatio=i[17],oe(()=>t=!1)),!s&&o[0]&262144&&(s=!0,f.aspectRatio=i[18],oe(()=>s=!1)),e.$set(f)},i(i){r||(v(e.$$.fragment,i),r=!0)},o(i){y(e.$$.fragment,i),r=!1},d(i){q(e,i)}}}function Qt(n){let e,t;return e=new Wt({props:{restart:n[27],applesEaten:n[13],highestApplesEaten:n[26],$$slots:{default:[xt]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(s){G(e.$$.fragment,s)},m(s,r){O(e,s,r),t=!0},p(s,r){const a={};r[0]&8192&&(a.applesEaten=s[13]),r[1]&262144&&(a.$$scope={dirty:r,ctx:s}),e.$set(a)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function Zt(n){let e,t;return e=new Ot({props:{highestApplesEaten:n[26]}}),{c(){V(e.$$.fragment)},l(s){G(e.$$.fragment,s)},m(s,r){O(e,s,r),t=!0},p:P,i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function xt(n){let e,t,s;return t=new Xt({props:{count:50,items:["🐍","💥","🦴","🦴"]}}),{c(){e=L("div"),V(t.$$.fragment),this.h()},l(r){e=B(r,"DIV",{class:!0});var a=z(e);G(t.$$.fragment,a),a.forEach(g),this.h()},h(){ne(e,"class","text-burst-wrapper svelte-fg88f6")},m(r,a){I(r,e,a),O(t,e,null),s=!0},p:P,i(r){s||(v(t.$$.fragment,r),s=!0)},o(r){y(t.$$.fragment,r),s=!1},d(r){r&&g(e),q(t)}}}function en(n){let e,t,s,r;const a=[Zt,Qt],l=[];function c(i,o){return i[13]===0?0:i[14]==="fail"?1:-1}return~(e=c(n))&&(t=l[e]=a[e](n)),{c(){t&&t.c(),s=_e()},l(i){t&&t.l(i),s=_e()},m(i,o){~e&&l[e].m(i,o),I(i,s,o),r=!0},p(i,o){let f=e;e=c(i),e===f?~e&&l[e].p(i,o):(t&&(he(),y(l[f],1,1,()=>{l[f]=null}),ke()),~e?(t=l[e],t?t.p(i,o):(t=l[e]=a[e](i),t.c()),v(t,1),t.m(s.parentNode,s)):t=null)},i(i){r||(v(t),r=!0)},o(i){y(t),r=!1},d(i){i&&g(s),~e&&l[e].d(i)}}}function Le(n){let e,t,s,r,a,l,c,i,o,f,w,m,_,d,$=`<a href="https://www.serpentsoundstudios.com/">Alexander Nakarada</a> -
						<a href="${Ve}/assets/Alexander_Nakarada__Lurking_Sloth.mp3">Lurking Sloth</a>`,h,A,W,M,K,U,F,J,X;s=new Ke({props:{title:"apples eaten this try",progressKey:n[13]===0?void 0:n[13],$$slots:{default:[tn]},$$scope:{ctx:n}}});let u=n[15]!==n[13]&&Be(n);l=new Dt({props:{clock:n[24],tickDuration:n[8],tick:n[28]}}),i=new vt({props:{clock:n[24],tick:n[28],game:n[0]}}),w=new wt({});let b={song:Ve+"/assets/Alexander_Nakarada__Lurking_Sloth.mp3"};A=new Et({props:b}),n[39](A);function j(D,E){return D[16]?rn:sn}let x=j(n),H=x(n),T=n[16]&&Fe(n);return{c(){e=L("div"),t=L("div"),V(s.$$.fragment),r=R(),u&&u.c(),a=R(),V(l.$$.fragment),c=R(),V(i.$$.fragment),o=R(),f=L("section"),V(w.$$.fragment),m=R(),_=L("section"),d=L("p"),d.innerHTML=$,h=R(),V(A.$$.fragment),W=R(),M=L("section"),K=L("button"),H.c(),U=R(),T&&T.c(),this.h()},l(D){e=B(D,"DIV",{class:!0});var E=z(e);t=B(E,"DIV",{class:!0});var Q=z(t);G(s.$$.fragment,Q),r=C(Q),u&&u.l(Q),Q.forEach(g),a=C(E),G(l.$$.fragment,E),c=C(E),G(i.$$.fragment,E),o=C(E),f=B(E,"SECTION",{class:!0});var ie=z(f);G(w.$$.fragment,ie),ie.forEach(g),m=C(E),_=B(E,"SECTION",{class:!0});var S=z(_);d=B(S,"P",{"data-svelte-h":!0}),$e(d)!=="svelte-okqa3z"&&(d.innerHTML=$),h=C(S),G(A.$$.fragment,S),S.forEach(g),W=C(E),M=B(E,"SECTION",{class:!0});var ee=z(M);K=B(ee,"BUTTON",{});var pe=z(K);H.l(pe),pe.forEach(g),U=C(ee),T&&T.l(ee),ee.forEach(g),E.forEach(g),this.h()},h(){ne(t,"class","scores svelte-fg88f6"),ne(f,"class","panel svelte-fg88f6"),ae(f,"padding","var(--space_xl)"),ne(_,"class","box prose svelte-fg88f6"),ne(M,"class","box svelte-fg88f6"),ne(e,"class","info svelte-fg88f6")},m(D,E){I(D,e,E),k(e,t),O(s,t,null),k(t,r),u&&u.m(t,null),k(e,a),O(l,e,null),k(e,c),O(i,e,null),k(e,o),k(e,f),O(w,f,null),k(e,m),k(e,_),k(_,d),k(_,h),O(A,_,null),k(e,W),k(e,M),k(M,K),H.m(K,null),k(M,U),T&&T.m(M,null),F=!0,J||(X=ut(K,"click",n[40]),J=!0)},p(D,E){const Q={};E[0]&8192&&(Q.progressKey=D[13]===0?void 0:D[13]),E[0]&8192|E[1]&262144&&(Q.$$scope={dirty:E,ctx:D}),s.$set(Q),D[15]!==D[13]?u?(u.p(D,E),E[0]&40960&&v(u,1)):(u=Be(D),u.c(),v(u,1),u.m(t,null)):u&&(he(),y(u,1,1,()=>{u=null}),ke());const ie={};E[0]&1&&(ie.game=D[0]),i.$set(ie);const S={};A.$set(S),x!==(x=j(D))&&(H.d(1),H=x(D),H&&(H.c(),H.m(K,null))),D[16]?T?(T.p(D,E),E[0]&65536&&v(T,1)):(T=Fe(D),T.c(),v(T,1),T.m(M,null)):T&&(he(),y(T,1,1,()=>{T=null}),ke())},i(D){F||(v(s.$$.fragment,D),v(u),v(l.$$.fragment,D),v(i.$$.fragment,D),v(w.$$.fragment,D),v(A.$$.fragment,D),v(T),F=!0)},o(D){y(s.$$.fragment,D),y(u),y(l.$$.fragment,D),y(i.$$.fragment,D),y(w.$$.fragment,D),y(A.$$.fragment,D),y(T),F=!1},d(D){D&&g(e),q(s),u&&u.d(),q(l),q(i),q(w),n[39](null),q(A),H.d(),T&&T.d(),J=!1,X()}}}function tn(n){let e;return{c(){e=Y(n[13])},l(t){e=N(t,n[13])},m(t,s){I(t,e,s)},p(t,s){s[0]&8192&&le(e,t[13])},d(t){t&&g(e)}}}function Be(n){let e,t;return e=new Ke({props:{title:"the most apples you've ever eaten",$$slots:{default:[nn]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(s){G(e.$$.fragment,s)},m(s,r){O(e,s,r),t=!0},p(s,r){const a={};r[0]&32768|r[1]&262144&&(a.$$scope={dirty:r,ctx:s}),e.$set(a)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){y(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function nn(n){let e;return{c(){e=Y(n[15])},l(t){e=N(t,n[15])},m(t,s){I(t,e,s)},p(t,s){s[0]&32768&&le(e,t[15])},d(t){t&&g(e)}}}function sn(n){let e;return{c(){e=Y("show settings")},l(t){e=N(t,"show settings")},m(t,s){I(t,e,s)},d(t){t&&g(e)}}}function rn(n){let e;return{c(){e=Y("stash settings")},l(t){e=N(t,"stash settings")},m(t,s){I(t,e,s)},d(t){t&&g(e)}}}function Fe(n){let e,t,s,r;return e=new yt({props:{game:n[0],tickDuration:n[8]}}),s=new St({props:{game:n[0],baseTickDuration:n[7],tickDurationMin:n[9],tickDurationMax:n[10],tickDurationDecay:n[6],autoAspectRatio:n[17],aspectRatio:n[18]}}),{c(){V(e.$$.fragment),t=R(),V(s.$$.fragment)},l(a){G(e.$$.fragment,a),t=C(a),G(s.$$.fragment,a)},m(a,l){O(e,a,l),I(a,t,l),O(s,a,l),r=!0},p(a,l){const c={};l[0]&1&&(c.game=a[0]),e.$set(c);const i={};l[0]&1&&(i.game=a[0]),l[0]&131072&&(i.autoAspectRatio=a[17]),l[0]&262144&&(i.aspectRatio=a[18]),s.$set(i)},i(a){r||(v(e.$$.fragment,a),v(s.$$.fragment,a),r=!0)},o(a){y(e.$$.fragment,a),y(s.$$.fragment,a),r=!1},d(a){a&&g(t),q(e,a),q(s,a)}}}function an(n){let e,t,s,r,a,l;e=new pt({props:{dimensions:n[25]}});let c={storageKey:Ge,toInitialState:n[5],toInitialMovementDirection:on,tick:n[28],onReset:n[30]};r=new mt({props:c}),n[31](r);let i=n[0]&&He(n);return{c(){V(e.$$.fragment),t=R(),s=L("div"),V(r.$$.fragment),a=R(),i&&i.c(),this.h()},l(o){G(e.$$.fragment,o),t=C(o),s=B(o,"DIV",{class:!0});var f=z(s);G(r.$$.fragment,f),a=C(f),i&&i.l(f),f.forEach(g),this.h()},h(){ne(s,"class","ClasssicSnake svelte-fg88f6"),ve(s,"game-fail",n[14]==="fail"),ve(s,"game-ready",n[14]==="ready")},m(o,f){O(e,o,f),I(o,t,f),I(o,s,f),O(r,s,null),k(s,a),i&&i.m(s,null),l=!0},p(o,f){const w={};f[0]&32&&(w.toInitialState=o[5]),f[0]&12591104&&(w.onReset=o[30]),r.$set(w),o[0]?i?(i.p(o,f),f[0]&1&&v(i,1)):(i=He(o),i.c(),v(i,1),i.m(s,null)):i&&(he(),y(i,1,1,()=>{i=null}),ke()),(!l||f[0]&16384)&&ve(s,"game-fail",o[14]==="fail"),(!l||f[0]&16384)&&ve(s,"game-ready",o[14]==="ready")},i(o){l||(v(e.$$.fragment,o),v(r.$$.fragment,o),v(i),l=!0)},o(o){y(e.$$.fragment,o),y(r.$$.fragment,o),y(i),l=!1},d(o){o&&(g(t),g(s)),q(e,o),n[31](null),q(r),i&&i.d()}}}const Ge="classsic_high_score",on=()=>"up";function ln(n,e,t){let s,r,a,l,c,i,o=P,f=()=>(o(),o=Z(Re,p=>t(43,i=p)),Re),w,m=P,_=()=>(m(),m=Z(Ce,p=>t(22,w=p)),Ce),d,$=P,h=()=>($(),$=Z(Xe,p=>t(44,d=p)),Xe),A,W=P,M=()=>(W(),W=Z(Me,p=>t(45,A=p)),Me),K,U=P,F=()=>(U(),U=Z(ge,p=>t(23,K=p)),ge),J,X=P,u=()=>(X(),X=Z(l,p=>t(46,J=p)),l),b,j=P,x=()=>(j(),j=Z(s,p=>t(29,b=p)),s),H,T=P,D=()=>(T(),T=Z(c,p=>t(14,H=p)),c),E;n.$$.on_destroy.push(()=>o()),n.$$.on_destroy.push(()=>m()),n.$$.on_destroy.push(()=>$()),n.$$.on_destroy.push(()=>W()),n.$$.on_destroy.push(()=>U()),n.$$.on_destroy.push(()=>X()),n.$$.on_destroy.push(()=>j()),n.$$.on_destroy.push(()=>T());const Q=gt(dt({running:!0})),ie=re({width:0,height:0});let{game:S=void 0}=e,{audio:ee=void 0}=e,{toInitialState:pe=()=>At(Ct({mapWidth:r,mapHeight:a}))}=e,{pointerDown:me=!1}=e,{pointerX:ue=void 0}=e,{pointerY:ce=void 0}=e,be,De,Ie=!1,te=0;const Te=re($t(Ge,It)??0);ft(n,Te,p=>t(15,E=p));const Pe=()=>{S&&(S.reset(),S.start())},Re=re(.97);f();const Ce=re(Math.round(1e3/6));_();const ge=ht(re(w));F();const Me=re(17);M();const Xe=re(2e3);h();let Ye,Ne;const ze=()=>{if(!S||!b||!J||H!=="playing")return!1;de(s,b=Tt(b,S),b);for(const p of J)switch(p.name){case"eat_apple":{t(13,te++,te);break}case"snake_collide_self":case"snake_collide_bounds":{S.end("fail"),te===0&&(S.reset(),S.start());break}}return de(ge,K=Math.max(A,Math.min(d,Math.round(w*i**te))),K),!0},We=()=>{t(13,te=0),de(ge,K=w,K)};function Ue(p){se[p?"unshift":"push"](()=>{S=p,t(0,S)})}function Je(p){be=p,t(11,be)}function Qe(p){De=p,t(12,De)}function Ze(p){Ye=p,t(17,Ye)}function xe(p){Ne=p,t(18,Ne)}function et(p){me=p,t(1,me)}function tt(p){ue=p,t(2,ue)}function nt(p){ce=p,t(3,ce)}function st(p){se[p?"unshift":"push"](()=>{ee=p,t(4,ee)})}const it=()=>t(16,Ie=!Ie);return n.$$set=p=>{"game"in p&&t(0,S=p.game),"audio"in p&&t(4,ee=p.audio),"toInitialState"in p&&t(5,pe=p.toInitialState),"pointerDown"in p&&t(1,me=p.pointerDown),"pointerX"in p&&t(2,ue=p.pointerX),"pointerY"in p&&t(3,ce=p.pointerY)},n.$$.update=()=>{n.$$.dirty[0]&6159&&S&&me&&ue!==void 0&&ce!==void 0&&S.handlePointerInput(be,De,ue,ce),n.$$.dirty[0]&1&&x(t(21,s=S==null?void 0:S.state)),n.$$.dirty[0]&536870912&&(r=b==null?void 0:b.mapWidth),n.$$.dirty[0]&536870912&&(a=b==null?void 0:b.mapHeight),n.$$.dirty[0]&1&&u(t(20,l=S==null?void 0:S.events)),n.$$.dirty[0]&1&&D(t(19,c=S==null?void 0:S.status)),n.$$.dirty[0]&16384&&H==="ready"&&de(c,H="playing",H),n.$$.dirty[0]&40960&&te>E&&(de(Te,E=te,E),kt(Ge,te))},[S,me,ue,ce,ee,pe,Re,Ce,ge,Me,Xe,be,De,te,H,E,Ie,Ye,Ne,c,l,s,w,K,Q,ie,Te,Pe,ze,b,We,Ue,Je,Qe,Ze,xe,et,tt,nt,st,it]}class fn extends Se{constructor(e){super(),Ae(this,e,ln,an,ye,{game:0,audio:4,toInitialState:5,pointerDown:1,pointerX:2,pointerY:3,tickDurationDecay:6,baseTickDuration:7,currentTickDuration:8,tickDurationMin:9,tickDurationMax:10},null,[-1,-1])}get tickDurationDecay(){return this.$$.ctx[6]}get baseTickDuration(){return this.$$.ctx[7]}get currentTickDuration(){return this.$$.ctx[8]}get tickDurationMin(){return this.$$.ctx[9]}get tickDurationMax(){return this.$$.ctx[10]}}function un(n){let e,t,s,r,a,l,c;return t=new Yt({props:{alt:"logo for svelte🐍snake🐍sports: classsic, macro photography of an adorable cartoon snake with big eyes next to a red apple on lush green moss in a realistic 3d video game in the style of Tim Burton",src:Ve+"/assets/classsic.webp"}}),r=new fn({}),l=new Nt({}),{c(){e=R(),V(t.$$.fragment),s=R(),V(r.$$.fragment),a=R(),V(l.$$.fragment),this.h()},l(i){ct("svelte-yeydyr",document.head).forEach(g),e=C(i),G(t.$$.fragment,i),s=C(i),G(r.$$.fragment,i),a=C(i),G(l.$$.fragment,i),this.h()},h(){document.title="svelte🐍snake🐍sports: classsic"},m(i,o){I(i,e,o),O(t,i,o),I(i,s,o),O(r,i,o),I(i,a,o),O(l,i,o),c=!0},p:P,i(i){c||(v(t.$$.fragment,i),v(r.$$.fragment,i),v(l.$$.fragment,i),c=!0)},o(i){y(t.$$.fragment,i),y(r.$$.fragment,i),y(l.$$.fragment,i),c=!1},d(i){i&&(g(e),g(s),g(a)),q(t,i),q(r,i),q(l,i)}}}class $n extends Se{constructor(e){super(),Ae(this,e,null,un,ye,{})}}export{$n as component};
